<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Match Summary</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#f2f4f8;
}
.header{
  background:#0a7cff;
  color:#fff;
  padding:14px;
  text-align:center;
  font-size:18px;
  font-weight:bold;
}
.container{ padding:14px; }

.card{
  background:#fff;
  border-radius:14px;
  padding:14px;
  margin-bottom:14px;
  box-shadow:0 4px 10px rgba(0,0,0,0.08);
}
.title{
  font-weight:bold;
  font-size:16px;
  margin-bottom:6px;
}
.score{
  font-size:20px;
  font-weight:bold;
}
.sub{
  color:#555;
  font-size:14px;
}

.result{
  font-size:18px;
  font-weight:bold;
  color:#2e7d32;
  text-align:center;
}

button{
  width:100%;
  padding:14px;
  border:none;
  border-radius:10px;
  background:#0a7cff;
  color:#fff;
  font-size:16px;
  cursor:pointer;
}
</style>
</head>

<body>

<div class="header">üìä Match Summary</div>

<div class="container">

  <div class="card">
    <div class="title" id="match">Loading...</div>
  </div>

  <div class="card">
    <div class="title">1st Innings</div>
    <div class="score" id="inn1Score"></div>
    <div class="sub" id="inn1Overs"></div>
  </div>

  <div class="card">
    <div class="title">2nd Innings</div>
    <div class="score" id="inn2Score"></div>
    <div class="sub" id="inn2Overs"></div>
    <div class="sub" id="target"></div>
  </div>

  <div class="card">
    <div class="result" id="result"></div>
  </div>

  <div class="card">
    <div class="title">üèè Top Performers</div>
    <div class="sub" id="topBat"></div>
    <div class="sub" id="topBowl"></div>
  </div>

  <button onclick="goBack()">‚¨Ö Back to Dashboard</button>

</div>

<script>
const API_URL =
"https://script.google.com/macros/s/AKfycbzdz3UnRjf-nDbzd9WCdKpQG32jXc1ehGKeXy9q_Czm8ASwHSszmvWlNQa8OSL-6VE/exec";

function loadSummary(){
  const cb = "cb_" + Date.now();

  window[cb] = function(res){
    document.getElementById("match").innerText = res.match;

    document.getElementById("inn1Score").innerText =
      res.innings1.team + " - " +
      res.innings1.runs + "/" + res.innings1.wickets;

    document.getElementById("inn1Overs").innerText =
      "Overs: " + res.innings1.overs;

    document.getElementById("inn2Score").innerText =
      res.innings2.team + " - " +
      res.innings2.runs + "/" + res.innings2.wickets;

    document.getElementById("inn2Overs").innerText =
      "Overs: " + res.innings2.overs;

    document.getElementById("target").innerText =
      "Target: " + res.target;

    document.getElementById("result").innerText = res.result || "";

    document.getElementById("topBat").innerText =
      "Top Batsman: " + (res.topBatsman || "-");

    document.getElementById("topBowl").innerText =
      "Top Bowler: " + (res.topBowler || "-");

    delete window[cb];
  };

  const s = document.createElement("script");
  s.src = API_URL + "?action=getMatchSummary&callback=" + cb;
  document.body.appendChild(s);
}

function goBack(){
  window.location.href = "dashboard.html";
}

loadSummary();
</script>

</body>
</html>
